<app-desktop-nav></app-desktop-nav>

<div class="tm-hero d-flex justify-content-center align-items-center" id="tm-video-container">
  <video [playbackRate]="0.7" autoplay loop muted playsinline id="tm-video">
    <source src="assets/hero.mov" type="video/mp4">
  </video>

  <div class="categories">
    <input class="form-control tm-search-input" #input (input)="searchVideos(input.value)" type="search"
      placeholder="Pretraga" aria-label="Search">

    <div class="language">
      <label>Jezik:</label>
      <select [(ngModel)]="videoService.language" (change)="onChangeLanguage($event.target.value)">
        <option value="all">svi</option>
        <option value="eng">engleski</option>
        <option value="bos">bosanski</option>
        <option value="arabic">arapski</option>
      </select>
    </div>
  </div>

</div>

<div class="container-fluid tm-container-content tm-mt-60">
  <!-- <p class="subscriptionMessage" *ngIf="paymentService.subscriptionMessage">{{paymentService.subscriptionMessage}}
    {{paymentService.subscriptionDetails.billing_info.next_billing_time | date: 'dd.MM.yyyy.'}}</p> -->
  <!--<p class="total" *ngIf="videoService.videos && videoService.tempVideos">Prikazano: {{videoService.videos.length}}/{{videoService.tempVideos.length}}</p>-->

  <div class="row tm-gallery">
    <!--LOADING-->
    <ng-container *ngIf="videoService.showLoader || paymentService.showPaymentLoader">
      <ng-container *ngFor="let video of [1, 2, 3, 4, 5, 6, 7, 8]">
        <div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-5 mp" data-aos="fade-up" data-aos-duration="1200">
          <figure class="effect-ming tm-video-item">
            <figcaption class="d-flex align-items-center justify-content-center">
              <h2 class="video-title"></h2>
            </figcaption>
          </figure>
          <div class="d-flex justify-content-between tm-text-gray">
          </div>
        </div>
      </ng-container>
    </ng-container>
    <!--LOADING END-->

    <ng-container *ngIf="!videoService.showLoader && !paymentService.showPaymentLoader">
      <!--FREE-->
      <ng-container *ngIf="videoService.showFreeVideos && !authService.isPremiumUser">
        <ng-container *ngFor="let video of videoService.freeVideos">
          <ng-container *ngIf="!authService.isPremiumUser">
            <div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-5 mp" data-aos="fade-up" data-aos-duration="1200">

              <figure class="effect-ming tm-video-item">
                <img src="https://i.ytimg.com/vi/{{video.id}}/hq720.jpg" alt="{{video.title}}" class="img-fluid">
                <figcaption class="d-flex align-items-center justify-content-center">
                  <h2 class="video-title"> {{video.title}}</h2>
                  <a [routerLink]="['/video', video.titleForUrl]" (click)="videoService.activeVideo = video">View
                    more</a>
                </figcaption>
              </figure>
              <div class="d-flex justify-content-between tm-text-gray">
                <span> {{video.title}}</span>
                <ng-container *showOnlyForPremiumUsers>
                  <img height="40px" placement="top" ngbTooltip="Dodajte u listu omiljenih"
                    *ngIf="!checkIsFavorite(video)" (click)="markAsFavorite(video)" src="assets/img/favorite-white.svg">
                  <img height="40px" *ngIf="checkIsFavorite(video)" class="heart" src="assets/img/favorite-red.svg">
                </ng-container>
              </div>
            </div>
          </ng-container>
        </ng-container>
      </ng-container>
      <!--FREE END-->

      <!--WATCH ON YOUTUBE-->
      <div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-5 mp" data-aos="fade-up" data-aos-duration="1200">
        <a
        href="http://www.youtube.com/embed/s818Bn5iCPA?enablejsapi=1&enablecastapi=1&showinfo=0&rel=0&iv_load_policy=3&modestbranding=1&autoplay=1&loop=1&playlist=4-_ot44K-Mc,5kAgpr3QRt4,rVttcYfxYMQ,RiYbrL8ApJA,-_DebCBoRTc,sO1XdZUz8wU,2x1lW_pPNgY,GoXWX5l8LnE,7XizHQSDNMk,6T_JA8FsTXs,lQaaNfObroQ,FjYGJ4J7Bwo,L9j1UoeKq_w,Q9X3kSg00xM,s1Uvm-HBNwg,Zi-KL4-RmXc,NLJk_MiPlEU,OT1plXxs6JA,GkFTS6Gktsc,5tu7nXleXOc,F_hX7WPR7CU,1gRptyGL5jY,aO_VWdhI1VE,mlFLeFrjycw,tX5fLME9Jdw,f8Cn9naNMsc,dyNMrsSgtjk,HmCGMVf0Fqk,W_bcqCjYwm8,3ahRV93nn9c,wUwJ6WRq9DE,9iHxY4_2X_8,N4ushfwAHw0,km9xpgmqSfo,IKdj9OWgycM,o4zUDmBeuLA,mx0DrIxyxoc,_n8tx8kEwhg,OqkZsYG3Hgo,1ughs2a2aYk,Hx3hVvIzKEQ,uH9yVbx-c54,rvONNhKUbYY,sP5SB4ZWAUw,Ugqrn5K9Cj0,Bj8ceBiKhzY,_OEoVdby3Vk,4IPmcrs9-5w,SmlZkL2V-LA,dPTBZQdsxz0,w2LGRJjvaLs,jARb3ANzxZc,P6HxdAL1fLg,SOLOBcRMx6o,EB1SWXzFiwk,fGMZVH-vNY4,5BFGBJm0mgw,3kWbkb1PvBg,zOWtfAzVaGM,yVZ_veAgTjg,shcA_1yfB8w,ORSlcrqqruM,1EizTEPf5CU,FvNx31fDvLw,sE2Yrncu7PQ,MzuPxpUFy6w,irNcsEThz0I,-zYpOjJfNuY,D_Ze5iEIatQ,tcG2dPJU5js,-1czZM7yNIY,JO_4ErYafrM,rj6apu0-Xc8,uOrjN5zvBpc,-i0T9hcdOn4,SYKOkpo-0Fk,L87sMw7GauM,VPLlfptFUWY,K_-UJKsysxQ,g2M6M0jLDec,72c1ShS6VEw,AFmZoIv-0d8,5jSL7Wt_D6U,_KuhTSk-uNk,3OiBI5BJWk8,zCu9Nbi8ph4,ot4bzSW1c-Q,s818Bn5iCPA,yYmav9tRdS4,a-Nxzltyowc,8SK86w-r5C4,3aCtfNwij6o,WwhehM6cTu8,d5If7HkXv1I,VOaf6YWzGAQ,BrObtIo1J6A,5RiomLgycG8,hCIDgxA7je8,L3jExXHZ61g,mSRcdp3hoOU,XOhPg2XfxPw,Ktm0wI8rkdY,hBZozjxdKfY,la-jqhcwAWs,Tpxbk6i9ZDg,qQHVZPd0C_k,bUUIO3xdTbc,T6UgJeHx9VI,7BR45m0BfYc,QW_-_EwLI7s,_64akZxnn9I,yS6MZUllesc,cHvY33HNhOQ,onXTyfW-MIQ,p06OOWNOWTg,wtp0_LNRG2k,6yEuUolmU34,FL0-UrCx3bc,2v5M46hYxsg,M_H2wTqcltE,RpAeqwmYelU,sMqfvUrv9kY,SuuPXHM3CIo,R55maG4jZ1U,YOeOgUl0WsU,12gCcQQFS-w,fk1Kr85ajMY,wX_ZO_7Yg1s,HQ5sDAp2sMQ,ZweEd0vbcMw,UBXjs39cj0M,ftsxK50Z5dY,3D2re5TC3zs,SgDbotZoxIw,EA_29NC-Oj4,xqUpDb0GfLk,jOfzwcEGG2k,KoPNr5J0spA,pksXSJbnBNk,Z_duaSO8yIg,c3rLa76Tdf0,q20WR3GyUL0,6lv77SjKYd0,mLuE00MlifQ,v3-Mfjn-zXI,94JL9OCOFoE,MnvIS3zmQGk,kx6g7ogBPE4,RuIqX6pAQS0,KKd68Fs_mBk,3K3ANvcvU0s,4otq4c7b2wE,LwYdoCNFT-E,W2HS2IYCDIw,Eb2bf3Sye6U,s818Bn5iCPA">
        <figure style="display: flex; max-height: 200px;"><img class="img-fluid"
          src="assets/img/youtube.png">
        </figure>
      </a>
      </div>
      <!--WATCH ON YOUTUBE-->


      <ng-container *ngFor="let video of videoService.videos">

        <ng-container *showOnlyForPremiumUsers>
          <div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-5 mp" data-aos="fade-up" data-aos-duration="1200">

            <figure class="effect-ming tm-video-item">
              <img src="https://i.ytimg.com/vi/{{video.id}}/hq720.jpg" alt="{{video.title}}" class="img-fluid">
              <figcaption class="d-flex align-items-center justify-content-center">
                <h2 class="video-title"> {{video.title}}</h2>
                <a [routerLink]="['/video', video.titleForUrl]" (click)="videoService.activeVideo = video">View more</a>
              </figcaption>
            </figure>
            <div class="d-flex justify-content-between tm-text-gray">
              <span> {{video.title}}</span>
              <ng-container *showOnlyForPremiumUsers>
                <img height="40px" placement="top" ngbTooltip="Dodajte u listu omiljenih"
                  *ngIf="!checkIsFavorite(video)" (click)="markAsFavorite(video)" src="assets/img/favorite-white.svg">
                <img height="40px" *ngIf="checkIsFavorite(video)" class="heart" src="assets/img/favorite-red.svg">
              </ng-container>
            </div>
          </div>
        </ng-container>

        <ng-container *ngIf="!authService.isPremiumUser">
          <ng-container *ngIf="!video.free">
            <div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-5 mp"
              (click)="authService.goToPaypalAfterLoginRegistration = true" routerLink="/paypal" data-aos="fade-up"
              data-aos-duration="1200">
              <figure class="effect-ming tm-video-item premium">
                <img src="https://i.ytimg.com/vi/{{video.id}}/hq720.jpg" alt="{{video.title}}" class="img-fluid">
                <figcaption class="d-flex align-items-center justify-content-center"
                  (click)="authService.goToPaypalAfterLoginRegistration = true" routerLink="/paypal">
                  <button class="btn btn-danger">Pretplatite se</button>
                </figcaption>
              </figure>
              <div class="d-flex justify-content-between tm-text-gray">
                <span> {{video.title}}</span>
              </div>
            </div>
          </ng-container>
        </ng-container>
      </ng-container>

      <div class="col-12" style="text-align: center; padding: 25px; cursor: pointer;"
        *ngIf="videoService.showLoadMoreButton">
        <button class="btn btn-info" style="border-radius: 10px;" (click)="loadMore()">Učitaj više</button>
      </div>
    </ng-container>
  </div> <!-- row -->
</div> <!-- container-fluid, tm-container-content -->

<app-footer></app-footer>


<app-loader *ngIf="videoService.showLoader">
  Učitavanje...
</app-loader>

<app-loader *ngIf="paymentService.showPaymentLoader && !videoService.showLoader">
  Provjera pretplate...
</app-loader>
